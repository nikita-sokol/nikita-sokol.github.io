(this["webpackJsonptable-generator-app"]=this["webpackJsonptable-generator-app"]||[]).push([[0],{14:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(6),l=a.n(c),s=(a(14),a(4)),i=a(0),r=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],l=a[1],r=function(t){e.city.changeValue(t.target.textContent)};return Object(i.jsxs)("div",{className:c?"form__select select select_active":"form__select select",onClick:function(){l(!c)},children:[Object(i.jsx)("div",{className:"select__value",children:e.city.value?e.city.value:"City"}),Object(i.jsxs)("div",{className:"select__list",children:[Object(i.jsx)("div",{className:"select__option",onClick:r,children:"Riga"}),Object(i.jsx)("div",{className:"select__option",onClick:r,children:"Daugavpils"}),Object(i.jsx)("div",{className:"select__option",onClick:r,children:"J\u016brmala"}),Object(i.jsx)("div",{className:"select__option",onClick:r,children:"Ventspils"})]}),e.city.isDirty&&e.city.error&&Object(i.jsx)("label",{className:"label-error",children:e.city.error})]})},o=function(e){var t=!e.name.isValid||!e.surname.isValid||!e.age.isValid||!e.city.isValid;return Object(i.jsxs)("form",{className:"form",onSubmit:e.onSubmit,children:[Object(i.jsxs)("div",{className:"form__group",children:[Object(i.jsx)("input",{className:"form__input",onPaste:e.name.onChange,value:e.name.value,onChange:e.name.onChange,onBlur:e.name.onBlur,type:"text",name:"name",placeholder:"Name"}),e.name.isDirty&&e.name.error&&Object(i.jsx)("label",{className:"label-error",children:e.name.error})]}),Object(i.jsxs)("div",{className:"form__group",children:[Object(i.jsx)("input",{className:"form__input",value:e.surname.value,onChange:e.surname.onChange,onBlur:e.surname.onBlur,type:"text",name:"surname",placeholder:"Surname"}),e.surname.isDirty&&e.surname.error&&Object(i.jsx)("label",{className:"label-error",children:e.surname.error})]}),Object(i.jsxs)("div",{className:"form__group",children:[Object(i.jsx)("input",{className:"form__input",value:e.age.value,onChange:e.age.onChange,onBlur:e.age.onBlur,type:"text",name:"age",placeholder:"Age"}),e.age.isDirty&&e.age.error&&Object(i.jsx)("label",{className:"label-error",children:e.age.error})]}),Object(i.jsx)("div",{className:"form__group",children:Object(i.jsx)(r,{city:e.city})}),Object(i.jsx)("button",{disabled:t,className:"form__button button button_font-weight_bold",type:"submit",children:e.submitName})]})},b=a(3),u=a(7),m=a(8),d=a(2),j=new(function(){function e(){Object(u.a)(this,e),this.active=!1,this.rowInfo={typeTable:"",tableId:"",rowId:""},Object(d.d)(this)}return Object(m.a)(e,[{key:"makeActive",value:function(e,t,a){this.active=!0,this.rowInfo.typeTable=a,this.rowInfo.tableId=e,this.rowInfo.rowId=t}},{key:"makeInactive",value:function(){this.active=!1}}]),e}()),h=a(5),v=new(function(){function e(){Object(u.a)(this,e),this.sourceTable={id:1,rows:[]},this.newTables=[],Object(d.d)(this)}return Object(m.a)(e,[{key:"addRow",value:function(e){this.sourceTable.rows.push(e)}},{key:"editRowSourceTable",value:function(e,t){var a=this;this.sourceTable.rows.forEach((function(e,n){e.id===t.id&&(a.sourceTable.rows[n]=Object(h.a)({},t))}))}},{key:"editRowNewTable",value:function(e,t){var a=this;this.newTables.forEach((function(n,c){n.id===e&&n.rows.forEach((function(e,n){e.id===t.id&&(a.newTables[c].rows[n]=Object(h.a)({},t))}))}))}},{key:"removeSourceRow",value:function(e){var t=this;this.sourceTable.rows.forEach((function(a,n){a.id===e&&t.sourceTable.rows.splice(n,1)}))}},{key:"removeNewRow",value:function(e,t){var a=this;this.newTables.forEach((function(n,c){n.id===e&&(n.rows.forEach((function(e,n){e.id===t&&a.newTables[c].rows.splice(n,1)})),n.rows.length||a.newTables.splice(c,1))}))}},{key:"copySourceTable",value:function(){this.newTables.push(Object(h.a)({},this.sourceTable)),this.sourceTable.id++,this.sourceTable.rows=[]}},{key:"copyNewTable",value:function(e){this.newTables.push(Object(h.a)(Object(h.a)({},e),{},{id:this.sourceTable.id})),this.sourceTable.id++}},{key:"removeTable",value:function(e){var t=this;this.newTables.forEach((function(a,n){a.id===e&&t.newTables.splice(n,1)}))}}]),e}()),f=Object(b.a)((function(e){return Object(i.jsxs)("tr",{className:"table__row",children:[Object(i.jsx)("td",{className:"table__td",children:e.row.name}),Object(i.jsx)("td",{className:"table__td",children:e.row.surname}),Object(i.jsx)("td",{className:"table__td",children:e.row.age}),Object(i.jsx)("td",{className:"table__td",children:e.row.city}),Object(i.jsx)("td",{className:"table__td",children:Object(i.jsxs)("div",{className:"table__cell-btns",children:[Object(i.jsx)("a",{href:"#",className:"table__row-edit",onClick:function(t){t.preventDefault(),j.makeActive(e.tableId,e.row.id,e.typeTable)},children:"Edit"}),Object(i.jsx)("a",{href:"#",className:"table__row-del",onClick:function(t){t.preventDefault(),"sourceTable"===e.typeTable?v.removeSourceRow(e.row.id):"newTable"===e.typeTable&&v.removeNewRow(e.tableId,e.row.id)},children:"Delete"})]})})]})})),p=function(){return Object(i.jsxs)("tr",{className:"table__row table__row_font_italic",children:[Object(i.jsx)("td",{className:"table__td",children:"Name"}),Object(i.jsx)("td",{className:"table__td",children:"Surname"}),Object(i.jsx)("td",{className:"table__td",children:"Age"}),Object(i.jsx)("td",{className:"table__td",children:"City"}),Object(i.jsx)("td",{className:"table__td"})]})},O=Object(b.a)((function(e){return Object(i.jsxs)("div",{className:"table-btns",children:[Object(i.jsx)("button",{className:"table-btns__copy-table button",onClick:function(){"sourceTable"===e.typeTable?v.sourceTable.rows.length?(v.copySourceTable(),e.rowId.current=1):alert("\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0439!"):"newTable"===e.typeTable&&v.copyNewTable(e.infoTable)},children:"Copy table"}),Object(i.jsx)("button",{className:"table-btns__cross cross",onClick:function(){"sourceTable"===e.typeTable?alert("\u0418\u0441\u0445\u043e\u0434\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u0430"):"newTable"===e.typeTable&&v.removeTable(e.infoTable.id)}})]})})),_=Object(b.a)((function(e){var t=e.infoTable.rows;return Object(i.jsxs)("div",{className:"table-wrap",children:[Object(i.jsx)(O,{typeTable:e.typeTable,rowId:e.rowId,infoTable:e.infoTable}),Object(i.jsxs)("table",{className:"table",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{className:"table__row-header",children:[Object(i.jsx)("th",{className:"table__th",children:"Name"}),Object(i.jsx)("th",{className:"table__th",children:"Surname"}),Object(i.jsx)("th",{className:"table__th",children:"Age"}),Object(i.jsx)("th",{className:"table__th",children:"City"}),Object(i.jsx)("th",{className:"table__th"})]})}),Object(i.jsx)("tbody",{children:t.length>0?t.map((function(t){return Object(i.jsx)(f,{row:t,typeTable:e.typeTable,tableId:e.infoTable.id},t.id)})):Object(i.jsx)(p,{})})]})]})})),g=function(e,t){var a=Object(n.useState)(e),c=Object(s.a)(a,2),l=c[0],i=c[1],r=Object(n.useState)(!1),o=Object(s.a)(r,2),b=o[0],u=o[1],m=function(e,t){var a,c=Object(n.useState)(!1),l=Object(s.a)(c,2),i=l[0],r=l[1],o=Object(n.useState)(!1),b=Object(s.a)(o,2),u=b[0],m=b[1],d=Object(n.useState)(!1),j=Object(s.a)(d,2),h=j[0],v=j[1],f=Object(n.useState)(!1),p=Object(s.a)(f,2),O=p[0],_=p[1];return Object(n.useEffect)((function(){for(var a in t)switch(a){case"isEmpty":r(!e);break;case"minLength":e.length>=t[a]?m(!1):m(!0);break;case"maxLength":e.length<=t[a]?v(!1):v(!0)}}),[e]),a=i?"city"===(null===t||void 0===t?void 0:t.inputName)?"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434":"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c":u?"name"===(null===t||void 0===t?void 0:t.inputName)?"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c ".concat(t.minLength," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):"surname"===(null===t||void 0===t?void 0:t.inputName)?"\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c ".concat(t.minLength," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):"age"===(null===t||void 0===t?void 0:t.inputName)?"\u0412\u043e\u0437\u0440\u0430\u0441\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c ".concat(t.minLength," \u0446\u0438\u0444\u0440"):"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 ".concat(t.minLength," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):h?"name"===(null===t||void 0===t?void 0:t.inputName)?"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c ".concat(t.minLength," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):"surname"===(null===t||void 0===t?void 0:t.inputName)?"\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c ".concat(t.minLength," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):"age"===(null===t||void 0===t?void 0:t.inputName)?"\u0412\u043e\u0437\u0440\u0430\u0441\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c ".concat(t.minLength," \u0446\u0438\u0444\u0440"):"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 ".concat(t.maxLength," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):"",Object(n.useEffect)((function(){_(!(i||u||h))}),[i,u,h]),{isValid:O,error:a}}(l,t);return Object(h.a)({value:l,changeValue:function(e){i(e),u(!1)},isDirty:b,onChange:function(e){if("age"===(null===t||void 0===t?void 0:t.inputName)){/\D/g.test(e.target.value)||i(e.target.value)}else i(e.target.value)},onBlur:function(){u(!0)}},m)},w=Object(b.a)((function(e){var t=Object(n.useRef)(!0),a=j.rowInfo,c=g("",{isEmpty:!0,minLength:3,maxLength:15,inputName:"name"}),l=g("",{isEmpty:!0,minLength:3,maxLength:15,inputName:"surname"}),s=g("",{isEmpty:!0,maxLength:30,inputName:"age"}),r=g("",{isEmpty:!0,inputName:"city"});t.current&&("sourceTable"===a.typeTable?v.sourceTable.rows.forEach((function(e){e.id===a.rowId&&(c.changeValue(e.name),l.changeValue(e.surname),s.changeValue(e.age),r.changeValue(e.city),t.current=!1)})):"newTable"===a.typeTable&&v.newTables.forEach((function(e){e.id===a.tableId&&e.rows.forEach((function(e){e.id===a.rowId&&(c.changeValue(e.name),l.changeValue(e.surname),s.changeValue(e.age),r.changeValue(e.city),t.current=!1)}))})));return Object(i.jsx)("div",{className:j.active?"modal modal_active":"modal",onClick:function(){j.makeInactive()},children:Object(i.jsx)("div",{className:j.active?"modal__content modal__content_active":"modal__content",onClick:function(e){e.stopPropagation()},children:Object(i.jsx)(o,{name:c,surname:l,age:s,city:r,onSubmit:function(e){e.preventDefault();var t={id:a.rowId,name:c.value,surname:l.value,age:s.value,city:r.value};"sourceTable"===a.typeTable?(v.editRowSourceTable(a.tableId,t),j.makeInactive()):"newTable"===a.typeTable&&(v.editRowNewTable(a.tableId,t),j.makeInactive())},submitName:"EDIT"})})})})),N=Object(b.a)((function(){var e=Object(n.useRef)(1),t=g("",{isEmpty:!0,minLength:3,maxLength:15,inputName:"name"}),a=g("",{isEmpty:!0,minLength:3,maxLength:15,inputName:"surname"}),c=g("",{isEmpty:!0,maxLength:30,inputName:"age"}),l=g("",{isEmpty:!0,inputName:"city"}),s=function(n){var s={id:e.current,name:t.value,surname:a.value,age:c.value,city:l.value};v.addRow(s),e.current++,t.changeValue(""),a.changeValue(""),c.changeValue(""),l.changeValue(""),n.preventDefault()};return Object(i.jsxs)("div",{className:"wrap",children:[Object(i.jsx)(w,{}),Object(i.jsxs)("div",{className:"wrap-forms",children:[Object(i.jsx)(o,{name:t,surname:a,age:c,city:l,onSubmit:s,submitName:"ADD"}),Object(i.jsx)(o,{name:t,surname:a,age:c,city:l,onSubmit:s,submitName:"ADD"})]}),Object(i.jsx)(_,{rowId:e,typeTable:"sourceTable",infoTable:v.sourceTable},"serviceTable"),v.newTables.map((function(e){return Object(i.jsx)(_,{infoTable:e,typeTable:"newTable"},e.id)}))]})}));var y=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(N,{})})};l.a.render(Object(i.jsx)(y,{}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.2290e059.chunk.js.map