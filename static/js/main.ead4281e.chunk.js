(this["webpackJsonptable-generator-app"]=this["webpackJsonptable-generator-app"]||[]).push([[0],{14:function(e,a,t){},17:function(e,a,t){"use strict";t.r(a);var n=t(1),c=t(6),s=t.n(c),l=(t(14),t(4)),i=t(0),r=function(e){var a=Object(n.useState)(!1),t=Object(l.a)(a,2),c=t[0],s=t[1],r=function(a){e.city.changeValue(a.target.textContent)};return Object(i.jsxs)("div",{className:c?"form__select select select_active":"form__select select",onClick:function(){s(!c)},children:[Object(i.jsx)("div",{className:"select__value",children:e.city.value?e.city.value:"City"}),Object(i.jsxs)("div",{className:"select__list",children:[Object(i.jsx)("div",{className:"select__option",onClick:r,children:"Riga"}),Object(i.jsx)("div",{className:"select__option",onClick:r,children:"Daugavpils"}),Object(i.jsx)("div",{className:"select__option",onClick:r,children:"J\u016brmala"}),Object(i.jsx)("div",{className:"select__option",onClick:r,children:"Ventspils"})]}),e.city.isDirty&&e.city.error&&Object(i.jsx)("label",{className:"label-error",children:e.city.error})]})},o=function(e){var a=!e.name.isValid||!e.surname.isValid||!e.age.isValid||!e.city.isValid;return Object(i.jsxs)("form",{className:"form",onSubmit:e.onSubmit,children:[Object(i.jsxs)("div",{className:"form__group",children:[Object(i.jsx)("input",{className:"form__input",onPaste:e.name.onChange,value:e.name.value,onChange:e.name.onChange,onBlur:e.name.onBlur,type:"text",name:"name",placeholder:"Name"}),e.name.isDirty&&e.name.error&&Object(i.jsx)("label",{className:"label-error",children:e.name.error})]}),Object(i.jsxs)("div",{className:"form__group",children:[Object(i.jsx)("input",{className:"form__input",value:e.surname.value,onChange:e.surname.onChange,onBlur:e.surname.onBlur,type:"text",name:"surname",placeholder:"Surname"}),e.surname.isDirty&&e.surname.error&&Object(i.jsx)("label",{className:"label-error",children:e.surname.error})]}),Object(i.jsxs)("div",{className:"form__group",children:[Object(i.jsx)("input",{className:"form__input",value:e.age.value,onChange:e.age.onChange,onBlur:e.age.onBlur,type:"text",name:"age",placeholder:"Age"}),e.age.isDirty&&e.age.error&&Object(i.jsx)("label",{className:"label-error",children:e.age.error})]}),Object(i.jsx)("div",{className:"form__group",children:Object(i.jsx)(r,{city:e.city})}),Object(i.jsx)("button",{disabled:a,className:"form__button button button_font-weight_bold",type:"submit",children:e.submitName})]})},b=t(3),u=t(7),m=t(8),d=t(2),j=new(function(){function e(){Object(u.a)(this,e),this.active=!1,this.rowInfo={typeTable:"",tableId:"",rowId:""},Object(d.d)(this)}return Object(m.a)(e,[{key:"makeActive",value:function(e,a,t){this.active=!0,this.rowInfo.typeTable=t,this.rowInfo.tableId=e,this.rowInfo.rowId=a}},{key:"makeInactive",value:function(){this.active=!1}}]),e}()),h=t(5),v=new(function(){function e(){Object(u.a)(this,e),this.sourceTable={id:1,rows:[]},this.newTables=[],Object(d.d)(this)}return Object(m.a)(e,[{key:"addRow",value:function(e){this.sourceTable.rows.push(e)}},{key:"editRowSourceTable",value:function(e,a){var t=this;this.sourceTable.rows.forEach((function(e,n){e.id===a.id&&(t.sourceTable.rows[n]=Object(h.a)({},a))}))}},{key:"editRowNewTable",value:function(e,a){var t=this;this.newTables.forEach((function(n,c){n.id===e&&n.rows.forEach((function(e,n){e.id===a.id&&(t.newTables[c].rows[n]=Object(h.a)({},a))}))}))}},{key:"removeSourceRow",value:function(e){var a=this;this.sourceTable.rows.forEach((function(t,n){t.id===e&&a.sourceTable.rows.splice(n,1)}))}},{key:"removeNewRow",value:function(e,a){var t=this;this.newTables.forEach((function(n,c){n.id===e&&(n.rows.forEach((function(e,n){e.id===a&&t.newTables[c].rows.splice(n,1)})),n.rows.length||t.newTables.splice(c,1))}))}},{key:"copySourceTable",value:function(){this.newTables.push(Object(h.a)({},this.sourceTable)),this.sourceTable.id++,this.sourceTable.rows=[]}},{key:"copyNewTable",value:function(e){this.newTables.push(Object(h.a)(Object(h.a)({},e),{},{id:this.sourceTable.id})),this.sourceTable.id++}},{key:"removeTable",value:function(e){var a=this;this.newTables.forEach((function(t,n){t.id===e&&a.newTables.splice(n,1)}))}}]),e}()),f=Object(b.a)((function(e){return Object(i.jsxs)("tr",{className:"table__row",children:[Object(i.jsx)("td",{className:"table__td",children:e.row.name}),Object(i.jsx)("td",{className:"table__td",children:e.row.surname}),Object(i.jsx)("td",{className:"table__td",children:e.row.age}),Object(i.jsx)("td",{className:"table__td",children:e.row.city}),Object(i.jsx)("td",{className:"table__td",children:Object(i.jsxs)("div",{className:"table__cell-btns",children:[Object(i.jsx)("a",{href:"#",className:"table__row-edit",onClick:function(){j.makeActive(e.tableId,e.row.id,e.typeTable)},children:"Edit"}),Object(i.jsx)("a",{href:"#",className:"table__row-del",onClick:function(){"sourceTable"===e.typeTable?v.removeSourceRow(e.row.id):"newTable"===e.typeTable&&v.removeNewRow(e.tableId,e.row.id)},children:"Delete"})]})})]})})),p=function(){return Object(i.jsxs)("tr",{className:"table__row table__row_font_italic",children:[Object(i.jsx)("td",{className:"table__td",children:"Name"}),Object(i.jsx)("td",{className:"table__td",children:"Surname"}),Object(i.jsx)("td",{className:"table__td",children:"Age"}),Object(i.jsx)("td",{className:"table__td",children:"City"}),Object(i.jsx)("td",{className:"table__td"})]})},O=Object(b.a)((function(e){return Object(i.jsxs)("div",{className:"table-btns",children:[Object(i.jsx)("button",{className:"table-btns__copy-table button",onClick:function(){"sourceTable"===e.typeTable?v.sourceTable.rows.length?(v.copySourceTable(),e.rowId.current=1):alert("\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0439!"):"newTable"===e.typeTable&&v.copyNewTable(e.infoTable)},children:"Copy table"}),Object(i.jsx)("button",{className:"table-btns__cross cross",onClick:function(){"sourceTable"===e.typeTable?alert("\u0418\u0441\u0445\u043e\u0434\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u0430"):"newTable"===e.typeTable&&v.removeTable(e.infoTable.id)}})]})})),_=Object(b.a)((function(e){var a=e.infoTable.rows;return Object(i.jsxs)("div",{className:"table-wrap",children:[Object(i.jsx)(O,{typeTable:e.typeTable,rowId:e.rowId,infoTable:e.infoTable}),Object(i.jsxs)("table",{className:"table",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{className:"table__row-header",children:[Object(i.jsx)("th",{className:"table__th",children:"Name"}),Object(i.jsx)("th",{className:"table__th",children:"Surname"}),Object(i.jsx)("th",{className:"table__th",children:"Age"}),Object(i.jsx)("th",{className:"table__th",children:"City"}),Object(i.jsx)("th",{className:"table__th"})]})}),Object(i.jsx)("tbody",{children:a.length>0?a.map((function(a){return Object(i.jsx)(f,{row:a,typeTable:e.typeTable,tableId:e.infoTable.id},a.id)})):Object(i.jsx)(p,{})})]})]})})),g=function(e,a){var t=Object(n.useState)(e),c=Object(l.a)(t,2),s=c[0],i=c[1],r=Object(n.useState)(!1),o=Object(l.a)(r,2),b=o[0],u=o[1],m=function(e,a){var t,c=Object(n.useState)(!1),s=Object(l.a)(c,2),i=s[0],r=s[1],o=Object(n.useState)(!1),b=Object(l.a)(o,2),u=b[0],m=b[1],d=Object(n.useState)(!1),j=Object(l.a)(d,2),h=j[0],v=j[1],f=Object(n.useState)(!1),p=Object(l.a)(f,2),O=p[0],_=p[1];return Object(n.useEffect)((function(){for(var t in a)switch(t){case"isEmpty":r(!e);break;case"minLength":e.length>=a[t]?m(!1):m(!0);break;case"maxLength":e.length<=a[t]?v(!1):v(!0)}}),[e]),t=i?"city"===(null===a||void 0===a?void 0:a.inputName)?"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434":"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c":u?"name"===(null===a||void 0===a?void 0:a.inputName)?"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c ".concat(a.minLength," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):"surname"===(null===a||void 0===a?void 0:a.inputName)?"\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c ".concat(a.minLength," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):"age"===(null===a||void 0===a?void 0:a.inputName)?"\u0412\u043e\u0437\u0440\u0430\u0441\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c ".concat(a.minLength," \u0446\u0438\u0444\u0440"):"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 ".concat(a.minLength," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):h?"name"===(null===a||void 0===a?void 0:a.inputName)?"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c ".concat(a.minLength," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):"surname"===(null===a||void 0===a?void 0:a.inputName)?"\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c ".concat(a.minLength," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):"age"===(null===a||void 0===a?void 0:a.inputName)?"\u0412\u043e\u0437\u0440\u0430\u0441\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c ".concat(a.minLength," \u0446\u0438\u0444\u0440"):"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 ".concat(a.maxLength," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):"",Object(n.useEffect)((function(){_(!(i||u||h))}),[i,u,h]),{isValid:O,error:t}}(s,a);return Object(h.a)({value:s,changeValue:function(e){i(e),u(!1)},isDirty:b,onChange:function(e){if("age"===(null===a||void 0===a?void 0:a.inputName)){/\D/g.test(e.target.value)||i(e.target.value)}else i(e.target.value)},onBlur:function(){u(!0)}},m)},w=Object(b.a)((function(e){var a=Object(n.useRef)(!0),t=j.rowInfo,c=g("",{isEmpty:!0,minLength:3,maxLength:15,inputName:"name"}),s=g("",{isEmpty:!0,minLength:3,maxLength:15,inputName:"surname"}),l=g("",{isEmpty:!0,maxLength:30,inputName:"age"}),r=g("",{isEmpty:!0,inputName:"city"});a.current&&("sourceTable"===t.typeTable?v.sourceTable.rows.forEach((function(e){e.id===t.rowId&&(c.changeValue(e.name),s.changeValue(e.surname),l.changeValue(e.age),r.changeValue(e.city),a.current=!1)})):"newTable"===t.typeTable&&v.newTables.forEach((function(e){e.id===t.tableId&&e.rows.forEach((function(e){e.id===t.rowId&&(c.changeValue(e.name),s.changeValue(e.surname),l.changeValue(e.age),r.changeValue(e.city),a.current=!1)}))})));return Object(i.jsx)("div",{className:j.active?"modal modal_active":"modal",onClick:function(){j.makeInactive()},children:Object(i.jsx)("div",{className:j.active?"modal__content modal__content_active":"modal__content",onClick:function(e){e.stopPropagation()},children:Object(i.jsx)(o,{name:c,surname:s,age:l,city:r,onSubmit:function(e){e.preventDefault();var a={id:t.rowId,name:c.value,surname:s.value,age:l.value,city:r.value};"sourceTable"===t.typeTable?(v.editRowSourceTable(t.tableId,a),j.makeInactive()):"newTable"===t.typeTable&&(v.editRowNewTable(t.tableId,a),j.makeInactive())},submitName:"EDIT"})})})})),N=Object(b.a)((function(){var e=Object(n.useRef)(1),a=g("",{isEmpty:!0,minLength:3,maxLength:15,inputName:"name"}),t=g("",{isEmpty:!0,minLength:3,maxLength:15,inputName:"surname"}),c=g("",{isEmpty:!0,maxLength:30,inputName:"age"}),s=g("",{isEmpty:!0,inputName:"city"}),l=function(n){var l={id:e.current,name:a.value,surname:t.value,age:c.value,city:s.value};v.addRow(l),e.current++,a.changeValue(""),t.changeValue(""),c.changeValue(""),s.changeValue(""),n.preventDefault()};return Object(i.jsxs)("div",{className:"wrap",children:[Object(i.jsx)(w,{}),Object(i.jsxs)("div",{className:"wrap-forms",children:[Object(i.jsx)(o,{name:a,surname:t,age:c,city:s,onSubmit:l,submitName:"ADD"}),Object(i.jsx)(o,{name:a,surname:t,age:c,city:s,onSubmit:l,submitName:"ADD"})]}),Object(i.jsx)(_,{rowId:e,typeTable:"sourceTable",infoTable:v.sourceTable},"serviceTable"),v.newTables.map((function(e){return Object(i.jsx)(_,{infoTable:e,typeTable:"newTable"},e.id)}))]})}));var y=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(N,{})})};s.a.render(Object(i.jsx)(y,{}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.ead4281e.chunk.js.map